{"ast":null,"code":"import { ComboEntityDirective } from \"../combo-entity.directive\";\nimport { NG_VALIDATORS, NG_VALUE_ACCESSOR } from \"@angular/forms\";\nimport { DropdownService } from \"./dropdown.service\";\nimport { tap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./dropdown.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"./dropdown-segments-wrapper/dropdown-segments-wrapper.component\";\nconst _c0 = [\"input\"];\n\nfunction DropdownComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵlistener(\"click\", function DropdownComponent_div_0_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.closeOptions();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DropdownComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Invalid input\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DropdownComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-dropdown-segments-wrapper\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"combos\", ctx_r3.comboComponents);\n  }\n}\n\nexport class DropdownComponent {\n  constructor(dropdownService, cd) {\n    this.dropdownService = dropdownService;\n    this.cd = cd;\n    this.comboComponents = [];\n    this.inputStr = '';\n\n    this.onChange = value => {};\n\n    this.onTouched = () => {};\n\n    this.touched = false;\n    this.disabled = false;\n    this.showOptions$ = dropdownService.showOptionsObs$;\n    this.error$ = dropdownService.errorObs$.pipe(tap(_ => this.cd.detectChanges()));\n    dropdownService.selectedItem.subscribe(comboValue => {\n      this.setSelectedItem(comboValue);\n    });\n  }\n\n  ngAfterContentInit() {\n    var _a, _b, _c;\n\n    this.comboComponents = (_a = this.children) === null || _a === void 0 ? void 0 : _a.filter(item => !!item.component).map(item => item.component);\n    (_b = this.comboComponents) === null || _b === void 0 ? void 0 : _b.forEach(item => {\n      this.dropdownService.loadDataByType(item.getType());\n    });\n\n    if (this.initialValue) {\n      let item = this.dropdownService.findItemByValue(this.initialValue, this.comboComponents);\n      this.dropdownService.selectItem({\n        item: item,\n        inputStr: this.initialValue\n      }); // this.setSelectedItem({item: item, inputStr: this.initialValue})\n    }\n\n    let validators = (_c = this.comboComponents) === null || _c === void 0 ? void 0 : _c.reduce((accum, combo) => {\n      return [...accum, combo.getValidationRegex()];\n    }, []);\n    this.dropdownService.setValidators(validators !== null && validators !== void 0 ? validators : []);\n  }\n\n  setSelectedItem(selectedItem) {\n    this.markAsTouched();\n    this.onChange(selectedItem);\n    this.inputStr = selectedItem.inputStr;\n    this.dropdownService.closeOptions();\n    this.dropdownService.setError(false);\n  }\n\n  onInputChange(event) {\n    var _a, _b;\n\n    this.dropdownService.openOptions();\n    let inputStr = (_a = this.input) === null || _a === void 0 ? void 0 : _a.nativeElement.value;\n    this.dropdownService.setSearch({\n      searchString: inputStr !== null && inputStr !== void 0 ? inputStr : '',\n      key: (_b = event.data) !== null && _b !== void 0 ? _b : ''\n    });\n\n    if (!this.disabled) {// this.onChange(event); //TODO\n    }\n  }\n\n  closeOptions() {\n    this.dropdownService.closeOptions();\n  }\n\n  openOptions() {\n    this.dropdownService.openOptions();\n  }\n\n  clearInputStr() {\n    this.inputStr = '';\n  }\n\n  markAsTouched() {\n    if (!this.touched) {\n      this.onTouched();\n      this.touched = true;\n    }\n  }\n\n  registerOnChange(fn) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n\n  validate(control) {\n    let error = this.dropdownService.error;\n    return error ? {\n      invalidInput: true\n    } : null;\n  }\n\n  writeValue(value) {\n    this.initialValue = value;\n  }\n\n  setDisabledState(isDisabled) {\n    this.disabled = isDisabled;\n  }\n\n}\n\nDropdownComponent.ɵfac = function DropdownComponent_Factory(t) {\n  return new (t || DropdownComponent)(i0.ɵɵdirectiveInject(i1.DropdownService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n\nDropdownComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DropdownComponent,\n  selectors: [[\"app-dropdown\"]],\n  contentQueries: function DropdownComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, ComboEntityDirective, 4);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.children = _t);\n    }\n  },\n  viewQuery: function DropdownComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n    }\n  },\n  inputs: {\n    disabled: \"disabled\"\n  },\n  features: [i0.ɵɵProvidersFeature([{\n    provide: NG_VALUE_ACCESSOR,\n    multi: true,\n    useExisting: DropdownComponent\n  }, {\n    provide: NG_VALIDATORS,\n    multi: true,\n    useExisting: DropdownComponent\n  }, DropdownService])],\n  decls: 12,\n  vars: 16,\n  consts: [[\"class\", \"background\", 3, \"click\", 4, \"ngIf\"], [1, \"input-wrapper\"], [3, \"disabled\", \"ngModel\", \"ngModelChange\", \"input\", \"click\"], [\"input\", \"\"], [3, \"disabled\", \"click\"], [4, \"ngIf\"], [1, \"background\", 3, \"click\"], [1, \"segment-wrapper\", 3, \"combos\"]],\n  template: function DropdownComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, DropdownComponent_div_0_Template, 1, 0, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelementStart(4, \"input\", 2, 3);\n      i0.ɵɵlistener(\"ngModelChange\", function DropdownComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.inputStr = $event;\n      })(\"input\", function DropdownComponent_Template_input_input_4_listener($event) {\n        return ctx.onInputChange($event);\n      })(\"click\", function DropdownComponent_Template_input_click_4_listener() {\n        return ctx.openOptions();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function DropdownComponent_Template_button_click_6_listener() {\n        return ctx.clearInputStr();\n      });\n      i0.ɵɵtext(7, \"X\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, DropdownComponent_div_8_Template, 2, 0, \"div\", 5);\n      i0.ɵɵpipe(9, \"async\");\n      i0.ɵɵtemplate(10, DropdownComponent_div_10_Template, 2, 1, \"div\", 5);\n      i0.ɵɵpipe(11, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 8, ctx.showOptions$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"error\", i0.ɵɵpipeBind1(3, 10, ctx.error$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.disabled)(\"ngModel\", ctx.inputStr);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.disabled);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(9, 12, ctx.error$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 14, ctx.showOptions$));\n    }\n  },\n  directives: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.DropdownSegmentsWrapperComponent],\n  pipes: [i2.AsyncPipe],\n  styles: [\".input-wrapper[_ngcontent-%COMP%] {\\n  width: 250px;\\n  max-width: 550px;\\n  padding: 10px 15px;\\n  border-radius: 8px;\\n  border: 1px solid rgba(128, 128, 128, 0.2);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  position: relative;\\n  z-index: 20;\\n}\\n.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  border: none;\\n  outline: none;\\n  padding: 0;\\n  margin: 0;\\n}\\n.input-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  -webkit-user-select: none;\\n          user-select: none;\\n  cursor: pointer;\\n  border: none;\\n  outline: none;\\n  background-color: transparent;\\n  font-size: 20px;\\n  font-weight: 500;\\n}\\n.input-wrapper[_ngcontent-%COMP%]:focus {\\n  box-shadow: 0 1px 1px 0 rgba(65, 69, 73, 0.3), 0 1px 3px 1px rgba(65, 69, 73, 0.15);\\n}\\n.input-wrapper[_ngcontent-%COMP%]:focus-within {\\n  box-shadow: 0 1px 1px 0 rgba(65, 69, 73, 0.3), 0 1px 3px 1px rgba(65, 69, 73, 0.15);\\n}\\n.segment-wrapper[_ngcontent-%COMP%] {\\n  position: absolute;\\n  z-index: 21;\\n  background-color: white;\\n}\\n.background[_ngcontent-%COMP%] {\\n  top: 0;\\n  left: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  position: absolute;\\n  z-index: 20;\\n}\\n.error[_ngcontent-%COMP%] {\\n  border: 1px solid red;\\n  box-shadow: 1px 1px 12px rgba(255, 0, 0, 0.7);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyb3Bkb3duLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFDRjtBQUNFO0VBRUUsWUFBQTtFQUNBLGFBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQUFKO0FBRUU7RUFDRSx5QkFBQTtVQUFBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFBSjtBQUVFO0VBQ0UsbUZBQUE7QUFBSjtBQUVFO0VBQ0UsbUZBQUE7QUFBSjtBQUdBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsdUJBQUE7QUFBRjtBQUVBO0VBQ0UsTUFBQTtFQUNBLE9BQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQUNGO0FBRUE7RUFDRSxxQkFBQTtFQUNBLDZDQUFBO0FBQ0YiLCJmaWxlIjoiZHJvcGRvd24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW5wdXQtd3JhcHBlciB7XG4gIHdpZHRoOiAyNTBweDtcbiAgbWF4LXdpZHRoOiA1NTBweDtcbiAgcGFkZGluZzogMTBweCAxNXB4O1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4yKTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHotaW5kZXg6IDIwO1xuXG4gIGlucHV0IHtcbiAgICAvL2JvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4yKTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcbiAgfVxuICBidXR0b24ge1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBmb250LXNpemU6IDIwcHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuICAmOmZvY3VzIHtcbiAgICBib3gtc2hhZG93OiAwIDFweCAxcHggMCByZ2JhKDY1LDY5LDczLC4zKSwwIDFweCAzcHggMXB4IHJnYmEoNjUsNjksNzMsLjE1KTtcbiAgfVxuICAmOmZvY3VzLXdpdGhpbiB7XG4gICAgYm94LXNoYWRvdzogMCAxcHggMXB4IDAgcmdiYSg2NSw2OSw3MywuMyksMCAxcHggM3B4IDFweCByZ2JhKDY1LDY5LDczLC4xNSk7XG4gIH1cbn1cbi5zZWdtZW50LXdyYXBwZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDIxO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbn1cbi5iYWNrZ3JvdW5kIHtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwdnc7XG4gIGhlaWdodDogMTAwdmg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogMjA7XG59XG5cbi5lcnJvciB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbiAgYm94LXNoYWRvdzogMXB4IDFweCAxMnB4IHJnYmEoMjU1LCAwLCAwLCAwLjcpO1xufVxuIl19 */\"],\n  changeDetection: 0\n});","map":{"version":3,"sources":["/Users/razearmin/Desktop/combo-dropdown/src/app/dropdown/dropdown.component.ts"],"names":["ComboEntityDirective","NG_VALIDATORS","NG_VALUE_ACCESSOR","DropdownService","tap","i0","i1","i2","i3","i4","_c0","DropdownComponent_div_0_Template","rf","ctx","_r5","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","DropdownComponent_div_0_Template_div_click_0_listener","ɵɵrestoreView","ctx_r4","ɵɵnextContext","closeOptions","ɵɵelementEnd","DropdownComponent_div_8_Template","ɵɵtext","DropdownComponent_div_10_Template","ɵɵelement","ctx_r3","ɵɵadvance","ɵɵproperty","comboComponents","DropdownComponent","constructor","dropdownService","cd","inputStr","onChange","value","onTouched","touched","disabled","showOptions$","showOptionsObs$","error$","errorObs$","pipe","_","detectChanges","selectedItem","subscribe","comboValue","setSelectedItem","ngAfterContentInit","_a","_b","_c","children","filter","item","component","map","forEach","loadDataByType","getType","initialValue","findItemByValue","selectItem","validators","reduce","accum","combo","getValidationRegex","setValidators","markAsTouched","setError","onInputChange","event","openOptions","input","nativeElement","setSearch","searchString","key","data","clearInputStr","registerOnChange","fn","registerOnTouched","validate","control","error","invalidInput","writeValue","setDisabledState","isDisabled","ɵfac","DropdownComponent_Factory","t","ɵɵdirectiveInject","ChangeDetectorRef","ɵcmp","ɵɵdefineComponent","type","selectors","contentQueries","DropdownComponent_ContentQueries","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","viewQuery","DropdownComponent_Query","ɵɵviewQuery","first","inputs","features","ɵɵProvidersFeature","provide","multi","useExisting","decls","vars","consts","template","DropdownComponent_Template","ɵɵtemplate","ɵɵpipe","DropdownComponent_Template_input_ngModelChange_4_listener","$event","DropdownComponent_Template_input_input_4_listener","DropdownComponent_Template_input_click_4_listener","DropdownComponent_Template_button_click_6_listener","ɵɵpipeBind1","ɵɵclassProp","directives","NgIf","DefaultValueAccessor","NgControlStatus","NgModel","DropdownSegmentsWrapperComponent","pipes","AsyncPipe","styles","changeDetection"],"mappings":"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","sourcesContent":["import { ComboEntityDirective } from \"../combo-entity.directive\";\nimport { NG_VALIDATORS, NG_VALUE_ACCESSOR } from \"@angular/forms\";\nimport { DropdownService } from \"./dropdown.service\";\nimport { tap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./dropdown.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"./dropdown-segments-wrapper/dropdown-segments-wrapper.component\";\nconst _c0 = [\"input\"];\nfunction DropdownComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵlistener(\"click\", function DropdownComponent_div_0_Template_div_click_0_listener() { i0.ɵɵrestoreView(_r5); const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.closeOptions(); });\n    i0.ɵɵelementEnd();\n} }\nfunction DropdownComponent_div_8_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Invalid input\");\n    i0.ɵɵelementEnd();\n} }\nfunction DropdownComponent_div_10_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-dropdown-segments-wrapper\", 7);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"combos\", ctx_r3.comboComponents);\n} }\nexport class DropdownComponent {\n    constructor(dropdownService, cd) {\n        this.dropdownService = dropdownService;\n        this.cd = cd;\n        this.comboComponents = [];\n        this.inputStr = '';\n        this.onChange = (value) => { };\n        this.onTouched = () => { };\n        this.touched = false;\n        this.disabled = false;\n        this.showOptions$ = dropdownService.showOptionsObs$;\n        this.error$ = dropdownService.errorObs$.pipe(tap(_ => this.cd.detectChanges()));\n        dropdownService.selectedItem.subscribe((comboValue) => {\n            this.setSelectedItem(comboValue);\n        });\n    }\n    ngAfterContentInit() {\n        var _a, _b, _c;\n        this.comboComponents = (_a = this.children) === null || _a === void 0 ? void 0 : _a.filter(item => !!item.component).map(item => item.component);\n        (_b = this.comboComponents) === null || _b === void 0 ? void 0 : _b.forEach(item => {\n            this.dropdownService.loadDataByType(item.getType());\n        });\n        if (this.initialValue) {\n            let item = this.dropdownService.findItemByValue(this.initialValue, this.comboComponents);\n            this.dropdownService.selectItem({ item: item, inputStr: this.initialValue });\n            // this.setSelectedItem({item: item, inputStr: this.initialValue})\n        }\n        let validators = (_c = this.comboComponents) === null || _c === void 0 ? void 0 : _c.reduce((accum, combo) => {\n            return [...accum, combo.getValidationRegex()];\n        }, []);\n        this.dropdownService.setValidators(validators !== null && validators !== void 0 ? validators : []);\n    }\n    setSelectedItem(selectedItem) {\n        this.markAsTouched();\n        this.onChange(selectedItem);\n        this.inputStr = selectedItem.inputStr;\n        this.dropdownService.closeOptions();\n        this.dropdownService.setError(false);\n    }\n    onInputChange(event) {\n        var _a, _b;\n        this.dropdownService.openOptions();\n        let inputStr = (_a = this.input) === null || _a === void 0 ? void 0 : _a.nativeElement.value;\n        this.dropdownService.setSearch({ searchString: inputStr !== null && inputStr !== void 0 ? inputStr : '', key: (_b = event.data) !== null && _b !== void 0 ? _b : '' });\n        if (!this.disabled) {\n            // this.onChange(event); //TODO\n        }\n    }\n    closeOptions() {\n        this.dropdownService.closeOptions();\n    }\n    openOptions() {\n        this.dropdownService.openOptions();\n    }\n    clearInputStr() {\n        this.inputStr = '';\n    }\n    markAsTouched() {\n        if (!this.touched) {\n            this.onTouched();\n            this.touched = true;\n        }\n    }\n    registerOnChange(fn) {\n        this.onChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    validate(control) {\n        let error = this.dropdownService.error;\n        return error ? {\n            invalidInput: true\n        } : null;\n    }\n    writeValue(value) {\n        this.initialValue = value;\n    }\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n    }\n}\nDropdownComponent.ɵfac = function DropdownComponent_Factory(t) { return new (t || DropdownComponent)(i0.ɵɵdirectiveInject(i1.DropdownService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\nDropdownComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: DropdownComponent, selectors: [[\"app-dropdown\"]], contentQueries: function DropdownComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, ComboEntityDirective, 4);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.children = _t);\n    } }, viewQuery: function DropdownComponent_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n    } }, inputs: { disabled: \"disabled\" }, features: [i0.ɵɵProvidersFeature([\n            {\n                provide: NG_VALUE_ACCESSOR,\n                multi: true,\n                useExisting: DropdownComponent\n            },\n            {\n                provide: NG_VALIDATORS,\n                multi: true,\n                useExisting: DropdownComponent\n            },\n            DropdownService\n        ])], decls: 12, vars: 16, consts: [[\"class\", \"background\", 3, \"click\", 4, \"ngIf\"], [1, \"input-wrapper\"], [3, \"disabled\", \"ngModel\", \"ngModelChange\", \"input\", \"click\"], [\"input\", \"\"], [3, \"disabled\", \"click\"], [4, \"ngIf\"], [1, \"background\", 3, \"click\"], [1, \"segment-wrapper\", 3, \"combos\"]], template: function DropdownComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, DropdownComponent_div_0_Template, 1, 0, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementStart(4, \"input\", 2, 3);\n        i0.ɵɵlistener(\"ngModelChange\", function DropdownComponent_Template_input_ngModelChange_4_listener($event) { return ctx.inputStr = $event; })(\"input\", function DropdownComponent_Template_input_input_4_listener($event) { return ctx.onInputChange($event); })(\"click\", function DropdownComponent_Template_input_click_4_listener() { return ctx.openOptions(); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function DropdownComponent_Template_button_click_6_listener() { return ctx.clearInputStr(); });\n        i0.ɵɵtext(7, \"X\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(8, DropdownComponent_div_8_Template, 2, 0, \"div\", 5);\n        i0.ɵɵpipe(9, \"async\");\n        i0.ɵɵtemplate(10, DropdownComponent_div_10_Template, 2, 1, \"div\", 5);\n        i0.ɵɵpipe(11, \"async\");\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 8, ctx.showOptions$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"error\", i0.ɵɵpipeBind1(3, 10, ctx.error$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.disabled)(\"ngModel\", ctx.inputStr);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.disabled);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(9, 12, ctx.error$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 14, ctx.showOptions$));\n    } }, directives: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.DropdownSegmentsWrapperComponent], pipes: [i2.AsyncPipe], styles: [\".input-wrapper[_ngcontent-%COMP%] {\\n  width: 250px;\\n  max-width: 550px;\\n  padding: 10px 15px;\\n  border-radius: 8px;\\n  border: 1px solid rgba(128, 128, 128, 0.2);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  position: relative;\\n  z-index: 20;\\n}\\n.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  border: none;\\n  outline: none;\\n  padding: 0;\\n  margin: 0;\\n}\\n.input-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  -webkit-user-select: none;\\n          user-select: none;\\n  cursor: pointer;\\n  border: none;\\n  outline: none;\\n  background-color: transparent;\\n  font-size: 20px;\\n  font-weight: 500;\\n}\\n.input-wrapper[_ngcontent-%COMP%]:focus {\\n  box-shadow: 0 1px 1px 0 rgba(65, 69, 73, 0.3), 0 1px 3px 1px rgba(65, 69, 73, 0.15);\\n}\\n.input-wrapper[_ngcontent-%COMP%]:focus-within {\\n  box-shadow: 0 1px 1px 0 rgba(65, 69, 73, 0.3), 0 1px 3px 1px rgba(65, 69, 73, 0.15);\\n}\\n.segment-wrapper[_ngcontent-%COMP%] {\\n  position: absolute;\\n  z-index: 21;\\n  background-color: white;\\n}\\n.background[_ngcontent-%COMP%] {\\n  top: 0;\\n  left: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  position: absolute;\\n  z-index: 20;\\n}\\n.error[_ngcontent-%COMP%] {\\n  border: 1px solid red;\\n  box-shadow: 1px 1px 12px rgba(255, 0, 0, 0.7);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyb3Bkb3duLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFDRjtBQUNFO0VBRUUsWUFBQTtFQUNBLGFBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQUFKO0FBRUU7RUFDRSx5QkFBQTtVQUFBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFBSjtBQUVFO0VBQ0UsbUZBQUE7QUFBSjtBQUVFO0VBQ0UsbUZBQUE7QUFBSjtBQUdBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsdUJBQUE7QUFBRjtBQUVBO0VBQ0UsTUFBQTtFQUNBLE9BQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQUNGO0FBRUE7RUFDRSxxQkFBQTtFQUNBLDZDQUFBO0FBQ0YiLCJmaWxlIjoiZHJvcGRvd24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW5wdXQtd3JhcHBlciB7XG4gIHdpZHRoOiAyNTBweDtcbiAgbWF4LXdpZHRoOiA1NTBweDtcbiAgcGFkZGluZzogMTBweCAxNXB4O1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4yKTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHotaW5kZXg6IDIwO1xuXG4gIGlucHV0IHtcbiAgICAvL2JvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4yKTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcbiAgfVxuICBidXR0b24ge1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBmb250LXNpemU6IDIwcHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuICAmOmZvY3VzIHtcbiAgICBib3gtc2hhZG93OiAwIDFweCAxcHggMCByZ2JhKDY1LDY5LDczLC4zKSwwIDFweCAzcHggMXB4IHJnYmEoNjUsNjksNzMsLjE1KTtcbiAgfVxuICAmOmZvY3VzLXdpdGhpbiB7XG4gICAgYm94LXNoYWRvdzogMCAxcHggMXB4IDAgcmdiYSg2NSw2OSw3MywuMyksMCAxcHggM3B4IDFweCByZ2JhKDY1LDY5LDczLC4xNSk7XG4gIH1cbn1cbi5zZWdtZW50LXdyYXBwZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDIxO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbn1cbi5iYWNrZ3JvdW5kIHtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwdnc7XG4gIGhlaWdodDogMTAwdmg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogMjA7XG59XG5cbi5lcnJvciB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbiAgYm94LXNoYWRvdzogMXB4IDFweCAxMnB4IHJnYmEoMjU1LCAwLCAwLCAwLjcpO1xufVxuIl19 */\"], changeDetection: 0 });\n"]},"metadata":{},"sourceType":"module"}