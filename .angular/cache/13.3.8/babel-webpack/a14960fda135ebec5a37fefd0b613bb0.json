{"ast":null,"code":"import { ComboEntityDirective } from \"../combo-entity.directive\";\nimport { NG_VALIDATORS, NG_VALUE_ACCESSOR } from \"@angular/forms\";\nimport { DropdownService } from \"./dropdown.service\";\nimport { tap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./dropdown.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"./dropdown-segments-wrapper/dropdown-segments-wrapper.component\";\nconst _c0 = [\"input\"];\n\nfunction DropdownComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function DropdownComponent_div_0_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.closeOptions();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DropdownComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵtext(2, \"Invalid input\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"red\", i0.ɵɵpipeBind1(1, 2, ctx_r2.error$));\n  }\n}\n\nexport class DropdownComponent {\n  constructor(dropdownService, cd) {\n    this.dropdownService = dropdownService;\n    this.cd = cd;\n    this.comboComponents = [];\n    this.inputStr = '';\n\n    this.onChange = value => {};\n\n    this.onTouched = () => {};\n\n    this.touched = false;\n    this.disabled = false;\n    this.showOptions$ = dropdownService.showOptionsObs$;\n    this.error$ = dropdownService.errorObs$.pipe(tap(_ => this.cd.detectChanges()));\n    dropdownService.selectedItem.subscribe(comboValue => {\n      this.setSelectedItem(comboValue);\n    });\n  }\n\n  ngAfterContentInit() {\n    var _a, _b, _c;\n\n    this.comboComponents = (_a = this.children) === null || _a === void 0 ? void 0 : _a.filter(item => !!item.component).map(item => item.component);\n    (_b = this.comboComponents) === null || _b === void 0 ? void 0 : _b.forEach(item => {\n      this.dropdownService.loadDataByType(item.getType());\n    });\n\n    if (this.initialValue) {\n      let item = this.dropdownService.findItemByValue(this.initialValue, this.comboComponents);\n      this.dropdownService.selectItem({\n        item: item,\n        inputStr: this.initialValue\n      }); // this.setSelectedItem({item: item, inputStr: this.initialValue})\n    }\n\n    let validators = (_c = this.comboComponents) === null || _c === void 0 ? void 0 : _c.reduce((accum, combo) => {\n      return [...accum, combo.getValidationRegex()];\n    }, []);\n    this.dropdownService.setValidators(validators !== null && validators !== void 0 ? validators : []);\n  }\n\n  setSelectedItem(selectedItem) {\n    this.markAsTouched();\n    this.onChange(selectedItem);\n    this.inputStr = selectedItem.inputStr;\n    this.dropdownService.closeOptions();\n    this.dropdownService.setError(false);\n  }\n\n  onInputChange(event) {\n    var _a, _b;\n\n    this.dropdownService.openOptions();\n    let inputStr = (_a = this.input) === null || _a === void 0 ? void 0 : _a.nativeElement.value;\n    this.dropdownService.setSearch({\n      searchString: inputStr !== null && inputStr !== void 0 ? inputStr : '',\n      key: (_b = event.data) !== null && _b !== void 0 ? _b : ''\n    });\n\n    if (!this.disabled) {// this.onChange(event); //TODO\n    }\n  }\n\n  closeOptions() {\n    this.dropdownService.closeOptions();\n  }\n\n  openOptions() {\n    this.dropdownService.openOptions();\n  }\n\n  clearInputStr() {\n    this.inputStr = '';\n    this.dropdownService.setSearch({\n      searchString: '',\n      key: ''\n    });\n  }\n\n  markAsTouched() {\n    if (!this.touched) {\n      this.onTouched();\n      this.touched = true;\n    }\n  }\n\n  registerOnChange(fn) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n\n  validate(control) {\n    let error = this.dropdownService.error;\n    return error ? {\n      invalidInput: true\n    } : null;\n  }\n\n  writeValue(value) {\n    this.initialValue = value;\n  }\n\n  setDisabledState(isDisabled) {\n    this.disabled = isDisabled;\n  }\n\n}\n\nDropdownComponent.ɵfac = function DropdownComponent_Factory(t) {\n  return new (t || DropdownComponent)(i0.ɵɵdirectiveInject(i1.DropdownService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n\nDropdownComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DropdownComponent,\n  selectors: [[\"app-dropdown\"]],\n  contentQueries: function DropdownComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, ComboEntityDirective, 4);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.children = _t);\n    }\n  },\n  viewQuery: function DropdownComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n    }\n  },\n  inputs: {\n    disabled: \"disabled\"\n  },\n  features: [i0.ɵɵProvidersFeature([{\n    provide: NG_VALUE_ACCESSOR,\n    multi: true,\n    useExisting: DropdownComponent\n  }, {\n    provide: NG_VALIDATORS,\n    multi: true,\n    useExisting: DropdownComponent\n  }, DropdownService])],\n  decls: 13,\n  vars: 18,\n  consts: [[\"class\", \"background\", 3, \"click\", 4, \"ngIf\"], [1, \"input-wrapper\"], [3, \"disabled\", \"ngModel\", \"ngModelChange\", \"input\", \"click\"], [\"input\", \"\"], [3, \"disabled\", \"click\"], [3, \"red\", 4, \"ngIf\"], [1, \"segment-wrapper\", 3, \"combos\"], [1, \"background\", 3, \"click\"]],\n  template: function DropdownComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, DropdownComponent_div_0_Template, 1, 0, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelementStart(4, \"input\", 2, 3);\n      i0.ɵɵlistener(\"ngModelChange\", function DropdownComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.inputStr = $event;\n      })(\"input\", function DropdownComponent_Template_input_input_4_listener($event) {\n        return ctx.onInputChange($event);\n      })(\"click\", function DropdownComponent_Template_input_click_4_listener() {\n        return ctx.openOptions();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function DropdownComponent_Template_button_click_6_listener() {\n        return ctx.clearInputStr();\n      });\n      i0.ɵɵtext(7, \"X\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, DropdownComponent_div_8_Template, 3, 4, \"div\", 5);\n      i0.ɵɵpipe(9, \"async\");\n      i0.ɵɵelementStart(10, \"div\");\n      i0.ɵɵpipe(11, \"async\");\n      i0.ɵɵelement(12, \"app-dropdown-segments-wrapper\", 6);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 10, ctx.showOptions$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"error\", i0.ɵɵpipeBind1(3, 12, ctx.error$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.disabled)(\"ngModel\", ctx.inputStr);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.disabled);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(9, 14, ctx.error$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleProp(\"display\", i0.ɵɵpipeBind1(11, 16, ctx.showOptions$) ? \"initial\" : \"none\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"combos\", ctx.comboComponents);\n    }\n  },\n  directives: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.DropdownSegmentsWrapperComponent],\n  pipes: [i2.AsyncPipe],\n  styles: [\".input-wrapper[_ngcontent-%COMP%] {\\n  width: 250px;\\n  max-width: 550px;\\n  padding: 10px 15px;\\n  border-radius: 8px;\\n  border: 1px solid rgba(128, 128, 128, 0.2);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  position: relative;\\n  z-index: 20;\\n}\\n.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  border: none;\\n  outline: none;\\n  padding: 0;\\n  margin: 0;\\n}\\n.input-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  -webkit-user-select: none;\\n          user-select: none;\\n  cursor: pointer;\\n  border: none;\\n  outline: none;\\n  background-color: transparent;\\n  font-size: 20px;\\n  font-weight: 500;\\n}\\n.input-wrapper[_ngcontent-%COMP%]:focus {\\n  box-shadow: 0 1px 1px 0 rgba(65, 69, 73, 0.3), 0 1px 3px 1px rgba(65, 69, 73, 0.15);\\n}\\n.input-wrapper[_ngcontent-%COMP%]:focus-within {\\n  box-shadow: 0 1px 1px 0 rgba(65, 69, 73, 0.3), 0 1px 3px 1px rgba(65, 69, 73, 0.15);\\n}\\n.segment-wrapper[_ngcontent-%COMP%] {\\n  margin-top: 6px;\\n  position: absolute;\\n  z-index: 21;\\n  background-color: white;\\n}\\n.background[_ngcontent-%COMP%] {\\n  top: 0;\\n  left: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  position: absolute;\\n  z-index: 20;\\n}\\n.error[_ngcontent-%COMP%] {\\n  border: 1px solid red;\\n  box-shadow: 0px 0px 4px -1px red !important;\\n}\\n.red[_ngcontent-%COMP%] {\\n  color: red;\\n  text-shadow: 0px 0px 4px -1px red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyb3Bkb3duLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFDRjtBQUNFO0VBRUUsWUFBQTtFQUNBLGFBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQUFKO0FBRUU7RUFDRSx5QkFBQTtVQUFBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFBSjtBQUVFO0VBQ0UsbUZBQUE7QUFBSjtBQUVFO0VBQ0UsbUZBQUE7QUFBSjtBQUdBO0VBQ0UsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0FBQUY7QUFFQTtFQUNFLE1BQUE7RUFDQSxPQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFDRjtBQUVBO0VBQ0UscUJBQUE7RUFDQSwyQ0FBQTtBQUNGO0FBQ0E7RUFDRSxVQUFBO0VBQ0EsaUNBQUE7QUFFRiIsImZpbGUiOiJkcm9wZG93bi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbnB1dC13cmFwcGVyIHtcbiAgd2lkdGg6IDI1MHB4O1xuICBtYXgtd2lkdGg6IDU1MHB4O1xuICBwYWRkaW5nOiAxMHB4IDE1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjIpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgei1pbmRleDogMjA7XG5cbiAgaW5wdXQge1xuICAgIC8vYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjIpO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuICB9XG4gIGJ1dHRvbiB7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICB9XG4gICY6Zm9jdXMge1xuICAgIGJveC1zaGFkb3c6IDAgMXB4IDFweCAwIHJnYmEoNjUsNjksNzMsLjMpLDAgMXB4IDNweCAxcHggcmdiYSg2NSw2OSw3MywuMTUpO1xuICB9XG4gICY6Zm9jdXMtd2l0aGluIHtcbiAgICBib3gtc2hhZG93OiAwIDFweCAxcHggMCByZ2JhKDY1LDY5LDczLC4zKSwwIDFweCAzcHggMXB4IHJnYmEoNjUsNjksNzMsLjE1KTtcbiAgfVxufVxuLnNlZ21lbnQtd3JhcHBlciB7XG4gIG1hcmdpbi10b3A6IDZweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAyMTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG4uYmFja2dyb3VuZCB7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDIwO1xufVxuXG4uZXJyb3Ige1xuICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggNHB4IC0xcHggcmdiYSgyNTUsIDAsIDAsIDEpICFpbXBvcnRhbnQ7XG59XG4ucmVkIHtcbiAgY29sb3I6IHJlZDtcbiAgdGV4dC1zaGFkb3c6MHB4IDBweCA0cHggLTFweCByZ2JhKDI1NSwgMCwgMCwgMSkgO1xufVxuIl19 */\"],\n  changeDetection: 0\n});","map":{"version":3,"sources":["/Users/razearmin/Desktop/combo-dropdown/src/app/dropdown/dropdown.component.ts"],"names":["ComboEntityDirective","NG_VALIDATORS","NG_VALUE_ACCESSOR","DropdownService","tap","i0","i1","i2","i3","i4","_c0","DropdownComponent_div_0_Template","rf","ctx","_r4","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","DropdownComponent_div_0_Template_div_click_0_listener","ɵɵrestoreView","ctx_r3","ɵɵnextContext","closeOptions","ɵɵelementEnd","DropdownComponent_div_8_Template","ɵɵpipe","ɵɵtext","ctx_r2","ɵɵclassProp","ɵɵpipeBind1","error$","DropdownComponent","constructor","dropdownService","cd","comboComponents","inputStr","onChange","value","onTouched","touched","disabled","showOptions$","showOptionsObs$","errorObs$","pipe","_","detectChanges","selectedItem","subscribe","comboValue","setSelectedItem","ngAfterContentInit","_a","_b","_c","children","filter","item","component","map","forEach","loadDataByType","getType","initialValue","findItemByValue","selectItem","validators","reduce","accum","combo","getValidationRegex","setValidators","markAsTouched","setError","onInputChange","event","openOptions","input","nativeElement","setSearch","searchString","key","data","clearInputStr","registerOnChange","fn","registerOnTouched","validate","control","error","invalidInput","writeValue","setDisabledState","isDisabled","ɵfac","DropdownComponent_Factory","t","ɵɵdirectiveInject","ChangeDetectorRef","ɵcmp","ɵɵdefineComponent","type","selectors","contentQueries","DropdownComponent_ContentQueries","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","viewQuery","DropdownComponent_Query","ɵɵviewQuery","first","inputs","features","ɵɵProvidersFeature","provide","multi","useExisting","decls","vars","consts","template","DropdownComponent_Template","ɵɵtemplate","DropdownComponent_Template_input_ngModelChange_4_listener","$event","DropdownComponent_Template_input_input_4_listener","DropdownComponent_Template_input_click_4_listener","DropdownComponent_Template_button_click_6_listener","ɵɵelement","ɵɵproperty","ɵɵadvance","ɵɵstyleProp","directives","NgIf","DefaultValueAccessor","NgControlStatus","NgModel","DropdownSegmentsWrapperComponent","pipes","AsyncPipe","styles","changeDetection"],"mappings":"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","sourcesContent":["import { ComboEntityDirective } from \"../combo-entity.directive\";\nimport { NG_VALIDATORS, NG_VALUE_ACCESSOR } from \"@angular/forms\";\nimport { DropdownService } from \"./dropdown.service\";\nimport { tap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./dropdown.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"./dropdown-segments-wrapper/dropdown-segments-wrapper.component\";\nconst _c0 = [\"input\"];\nfunction DropdownComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function DropdownComponent_div_0_Template_div_click_0_listener() { i0.ɵɵrestoreView(_r4); const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.closeOptions(); });\n    i0.ɵɵelementEnd();\n} }\nfunction DropdownComponent_div_8_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵtext(2, \"Invalid input\");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"red\", i0.ɵɵpipeBind1(1, 2, ctx_r2.error$));\n} }\nexport class DropdownComponent {\n    constructor(dropdownService, cd) {\n        this.dropdownService = dropdownService;\n        this.cd = cd;\n        this.comboComponents = [];\n        this.inputStr = '';\n        this.onChange = (value) => { };\n        this.onTouched = () => { };\n        this.touched = false;\n        this.disabled = false;\n        this.showOptions$ = dropdownService.showOptionsObs$;\n        this.error$ = dropdownService.errorObs$.pipe(tap(_ => this.cd.detectChanges()));\n        dropdownService.selectedItem.subscribe((comboValue) => {\n            this.setSelectedItem(comboValue);\n        });\n    }\n    ngAfterContentInit() {\n        var _a, _b, _c;\n        this.comboComponents = (_a = this.children) === null || _a === void 0 ? void 0 : _a.filter(item => !!item.component).map(item => item.component);\n        (_b = this.comboComponents) === null || _b === void 0 ? void 0 : _b.forEach(item => {\n            this.dropdownService.loadDataByType(item.getType());\n        });\n        if (this.initialValue) {\n            let item = this.dropdownService.findItemByValue(this.initialValue, this.comboComponents);\n            this.dropdownService.selectItem({ item: item, inputStr: this.initialValue });\n            // this.setSelectedItem({item: item, inputStr: this.initialValue})\n        }\n        let validators = (_c = this.comboComponents) === null || _c === void 0 ? void 0 : _c.reduce((accum, combo) => {\n            return [...accum, combo.getValidationRegex()];\n        }, []);\n        this.dropdownService.setValidators(validators !== null && validators !== void 0 ? validators : []);\n    }\n    setSelectedItem(selectedItem) {\n        this.markAsTouched();\n        this.onChange(selectedItem);\n        this.inputStr = selectedItem.inputStr;\n        this.dropdownService.closeOptions();\n        this.dropdownService.setError(false);\n    }\n    onInputChange(event) {\n        var _a, _b;\n        this.dropdownService.openOptions();\n        let inputStr = (_a = this.input) === null || _a === void 0 ? void 0 : _a.nativeElement.value;\n        this.dropdownService.setSearch({ searchString: inputStr !== null && inputStr !== void 0 ? inputStr : '', key: (_b = event.data) !== null && _b !== void 0 ? _b : '' });\n        if (!this.disabled) {\n            // this.onChange(event); //TODO\n        }\n    }\n    closeOptions() {\n        this.dropdownService.closeOptions();\n    }\n    openOptions() {\n        this.dropdownService.openOptions();\n    }\n    clearInputStr() {\n        this.inputStr = '';\n        this.dropdownService.setSearch({ searchString: '', key: '' });\n    }\n    markAsTouched() {\n        if (!this.touched) {\n            this.onTouched();\n            this.touched = true;\n        }\n    }\n    registerOnChange(fn) {\n        this.onChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    validate(control) {\n        let error = this.dropdownService.error;\n        return error ? {\n            invalidInput: true\n        } : null;\n    }\n    writeValue(value) {\n        this.initialValue = value;\n    }\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n    }\n}\nDropdownComponent.ɵfac = function DropdownComponent_Factory(t) { return new (t || DropdownComponent)(i0.ɵɵdirectiveInject(i1.DropdownService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\nDropdownComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: DropdownComponent, selectors: [[\"app-dropdown\"]], contentQueries: function DropdownComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, ComboEntityDirective, 4);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.children = _t);\n    } }, viewQuery: function DropdownComponent_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n    } }, inputs: { disabled: \"disabled\" }, features: [i0.ɵɵProvidersFeature([\n            {\n                provide: NG_VALUE_ACCESSOR,\n                multi: true,\n                useExisting: DropdownComponent\n            },\n            {\n                provide: NG_VALIDATORS,\n                multi: true,\n                useExisting: DropdownComponent\n            },\n            DropdownService\n        ])], decls: 13, vars: 18, consts: [[\"class\", \"background\", 3, \"click\", 4, \"ngIf\"], [1, \"input-wrapper\"], [3, \"disabled\", \"ngModel\", \"ngModelChange\", \"input\", \"click\"], [\"input\", \"\"], [3, \"disabled\", \"click\"], [3, \"red\", 4, \"ngIf\"], [1, \"segment-wrapper\", 3, \"combos\"], [1, \"background\", 3, \"click\"]], template: function DropdownComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, DropdownComponent_div_0_Template, 1, 0, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementStart(4, \"input\", 2, 3);\n        i0.ɵɵlistener(\"ngModelChange\", function DropdownComponent_Template_input_ngModelChange_4_listener($event) { return ctx.inputStr = $event; })(\"input\", function DropdownComponent_Template_input_input_4_listener($event) { return ctx.onInputChange($event); })(\"click\", function DropdownComponent_Template_input_click_4_listener() { return ctx.openOptions(); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function DropdownComponent_Template_button_click_6_listener() { return ctx.clearInputStr(); });\n        i0.ɵɵtext(7, \"X\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(8, DropdownComponent_div_8_Template, 3, 4, \"div\", 5);\n        i0.ɵɵpipe(9, \"async\");\n        i0.ɵɵelementStart(10, \"div\");\n        i0.ɵɵpipe(11, \"async\");\n        i0.ɵɵelement(12, \"app-dropdown-segments-wrapper\", 6);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 10, ctx.showOptions$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"error\", i0.ɵɵpipeBind1(3, 12, ctx.error$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.disabled)(\"ngModel\", ctx.inputStr);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.disabled);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(9, 14, ctx.error$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"display\", i0.ɵɵpipeBind1(11, 16, ctx.showOptions$) ? \"initial\" : \"none\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"combos\", ctx.comboComponents);\n    } }, directives: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.DropdownSegmentsWrapperComponent], pipes: [i2.AsyncPipe], styles: [\".input-wrapper[_ngcontent-%COMP%] {\\n  width: 250px;\\n  max-width: 550px;\\n  padding: 10px 15px;\\n  border-radius: 8px;\\n  border: 1px solid rgba(128, 128, 128, 0.2);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  position: relative;\\n  z-index: 20;\\n}\\n.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  border: none;\\n  outline: none;\\n  padding: 0;\\n  margin: 0;\\n}\\n.input-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  -webkit-user-select: none;\\n          user-select: none;\\n  cursor: pointer;\\n  border: none;\\n  outline: none;\\n  background-color: transparent;\\n  font-size: 20px;\\n  font-weight: 500;\\n}\\n.input-wrapper[_ngcontent-%COMP%]:focus {\\n  box-shadow: 0 1px 1px 0 rgba(65, 69, 73, 0.3), 0 1px 3px 1px rgba(65, 69, 73, 0.15);\\n}\\n.input-wrapper[_ngcontent-%COMP%]:focus-within {\\n  box-shadow: 0 1px 1px 0 rgba(65, 69, 73, 0.3), 0 1px 3px 1px rgba(65, 69, 73, 0.15);\\n}\\n.segment-wrapper[_ngcontent-%COMP%] {\\n  margin-top: 6px;\\n  position: absolute;\\n  z-index: 21;\\n  background-color: white;\\n}\\n.background[_ngcontent-%COMP%] {\\n  top: 0;\\n  left: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  position: absolute;\\n  z-index: 20;\\n}\\n.error[_ngcontent-%COMP%] {\\n  border: 1px solid red;\\n  box-shadow: 0px 0px 4px -1px red !important;\\n}\\n.red[_ngcontent-%COMP%] {\\n  color: red;\\n  text-shadow: 0px 0px 4px -1px red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyb3Bkb3duLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFDRjtBQUNFO0VBRUUsWUFBQTtFQUNBLGFBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQUFKO0FBRUU7RUFDRSx5QkFBQTtVQUFBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFBSjtBQUVFO0VBQ0UsbUZBQUE7QUFBSjtBQUVFO0VBQ0UsbUZBQUE7QUFBSjtBQUdBO0VBQ0UsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0FBQUY7QUFFQTtFQUNFLE1BQUE7RUFDQSxPQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFDRjtBQUVBO0VBQ0UscUJBQUE7RUFDQSwyQ0FBQTtBQUNGO0FBQ0E7RUFDRSxVQUFBO0VBQ0EsaUNBQUE7QUFFRiIsImZpbGUiOiJkcm9wZG93bi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbnB1dC13cmFwcGVyIHtcbiAgd2lkdGg6IDI1MHB4O1xuICBtYXgtd2lkdGg6IDU1MHB4O1xuICBwYWRkaW5nOiAxMHB4IDE1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjIpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgei1pbmRleDogMjA7XG5cbiAgaW5wdXQge1xuICAgIC8vYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjIpO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuICB9XG4gIGJ1dHRvbiB7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICB9XG4gICY6Zm9jdXMge1xuICAgIGJveC1zaGFkb3c6IDAgMXB4IDFweCAwIHJnYmEoNjUsNjksNzMsLjMpLDAgMXB4IDNweCAxcHggcmdiYSg2NSw2OSw3MywuMTUpO1xuICB9XG4gICY6Zm9jdXMtd2l0aGluIHtcbiAgICBib3gtc2hhZG93OiAwIDFweCAxcHggMCByZ2JhKDY1LDY5LDczLC4zKSwwIDFweCAzcHggMXB4IHJnYmEoNjUsNjksNzMsLjE1KTtcbiAgfVxufVxuLnNlZ21lbnQtd3JhcHBlciB7XG4gIG1hcmdpbi10b3A6IDZweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAyMTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG4uYmFja2dyb3VuZCB7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDIwO1xufVxuXG4uZXJyb3Ige1xuICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggNHB4IC0xcHggcmdiYSgyNTUsIDAsIDAsIDEpICFpbXBvcnRhbnQ7XG59XG4ucmVkIHtcbiAgY29sb3I6IHJlZDtcbiAgdGV4dC1zaGFkb3c6MHB4IDBweCA0cHggLTFweCByZ2JhKDI1NSwgMCwgMCwgMSkgO1xufVxuIl19 */\"], changeDetection: 0 });\n"]},"metadata":{},"sourceType":"module"}